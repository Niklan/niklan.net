{% embed 'laszlo:article' with {
  title: node.label(),
  url,
  url_absolute,
  published_timestamp,
  estimated_read_time,
  comment_count,
  content,
  toc_links,
  poster_uri,
  } only %}
  {% block poster %}
    {% include 'laszlo:image' with {
      uri: poster_uri,
      style_name: '210x280',
      alt: title,
      loading: 'eager',
    } only %}
  {% endblock %}
  {% block summary %}{{ content.body }}{% endblock %}
  {% block content %}{{ content.external_content }}{% endblock %}
  {% block comments %}{{ dd(content) }}{% endblock %}

  {% block meta %}
    {% include 'laszlo:meta' with {
      icon: 'calendar',
      label: 'Published'|t,
      value: published_timestamp|format_date('dmy'),
    } only %}
    {{ _self.meta_separator() }}
    {% include 'laszlo:meta' with {
      icon: 'read-time',
      label: 'Time to read'|t,
      value: '@minutes min.'|t({'@minutes': estimated_read_time}),
    } only %}
  {% endblock %}

  {% block sidebar %}
    {% if toc_links %}
      {% include 'laszlo:fab' with {
        attributes: create_attribute({
          'x-data': '',
          '@click.prevent': "$dispatch('show-toc')",
        }),
        label: 'Table of Contents'|t,
        icon: 'notebook-bookmark-bold-duotone',
      } only %}
    {% endif %}
    {% include 'laszlo:fab' with {
      attributes: create_attribute({
        'x-data': '',
        '@click.prevent': "$dispatch('show-share')",
      }),
      label: 'Share'|t,
      icon: 'square-share-line-bold-duotone',
    } only %}
    {% include 'laszlo:fab' with {
      label: 'Comments'|t,
      icon: 'chat-round-dots-bold-duotone',
      url: '#comments',
      counter: comment_count,
    } only %}
  {% endblock %}

  {% block extras %}
    {% embed 'laszlo:dialog' with {
      title: 'Share'|t,
      attributes: create_attribute({
        '@show-share.window': 'show',
      }),
      content_title: title,
      content_url: url_absolute,
    } only %}
      {% block content %}
        {% include 'laszlo:share-dialog' with {
          title: content_title,
          url: content_url,
        } only %}
      {% endblock %}
    {% endembed %}

    {% if toc_links %}
      {% embed 'laszlo:dialog' with {
        title: 'Table of contents'|t,
        attributes: create_attribute({
          '@show-toc.window': 'show',
        }),
        toc_links,
      } only %}
        {% block content %}
          {% include 'laszlo:toc-dialog' with { toc_links } only %}
        {% endblock %}
      {% endembed %}
    {% endif %}
  {% endblock %}
{% endembed %}
