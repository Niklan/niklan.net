{% embed 'laszlo:article' with {
  title: node.label(),
  url,
  url_absolute,
  published_timestamp,
  estimated_read_time,
  comment_count,
  content,
  toc_links,
  } only %}
  {% block poster %}{{ content.field_media_image }}{% endblock %}
  {% block summary %}{{ content.body }}{% endblock %}
  {% block content %}{{ content.external_content }}{% endblock %}
  {% block comments %}{{ dd(content) }}{% endblock %}

  {% block meta %}
    {% include 'laszlo:meta' with {
      icon: 'event',
      label: 'Published'|t,
      value: published_timestamp|format_date('dmy'),
    } only %}
    {{ _self.meta_separator() }}
    {% include 'laszlo:meta' with {
      icon: 'overview',
      label: 'Time to read'|t,
      value: '@minutes min.'|t({'@minutes': estimated_read_time}),
    } only %}
  {% endblock %}

  {% block sidebar %}
    {% if toc_links %}
      {% include 'laszlo:fab' with {
        attributes: create_attribute({
          'x-data': '',
          '@click.prevent': "$dispatch('show-toc')",
        }),
        label: 'Table of Contents'|t,
        icon: 'toc',
      } only %}
    {% endif %}
    {% include 'laszlo:fab' with {
      attributes: create_attribute({
        'x-data': '',
        '@click.prevent': "$dispatch('show-share')",
      }),
      label: 'Share'|t,
      icon: 'share',
    } only %}
    {% include 'laszlo:fab' with {
      label: 'Comments'|t,
      icon: 'forum',
      url: '#comments',
      counter: comment_count,
    } only %}
  {% endblock %}

  {% block extras %}
    {% embed 'laszlo:dialog' with {
      title: 'Share'|t,
      attributes: create_attribute({
        '@show-share.window': 'show()',
      }),
      content_title: title,
      content_url: url_absolute,
    } only %}
      {% block content %}
        {% include 'laszlo:share-dialog' with {
          title: content_title,
          url: content_url,
        } only %}
      {% endblock %}
    {% endembed %}

    {% if toc_links %}
      {% embed 'laszlo:dialog' with {
        title: 'Table of contents'|t,
        attributes: create_attribute({
          '@show-toc.window': 'show()',
        }),
        toc_links,
      } only %}
        {% block content %}
          {% include 'laszlo:toc-dialog' with { toc_links } only %}
        {% endblock %}
      {% endembed %}
    {% endif %}
  {% endblock %}
{% endembed %}
